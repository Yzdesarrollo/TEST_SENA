@page "/RegistroAseguradora"
@inject IInsurerServices InsurerServices
@inject NavigationManager nav
@inject IJSRuntime jS


<FormEditCreateComponent Insurer="@insurer" OnSubmit="@CrearInsurer" TextButton="Registrar"/>

@code {
    public Insurer insurer = new Insurer();

    //protected async override Task OnParametersSetAsync()
    //{
    //    await CrearInsurer();
    //    StateHasChanged();
    //}

    async Task CrearInsurer()
    {
        var response = await InsurerServices.CreateInsurer(insurer);
        nav.NavigateTo("ListadoAseguradoras");        
    }
}
